@php
    $db = [  0 => 'spotify:track:2qjH6wZfR0g11ZiT7KqyRO',
  1 => 'spotify:track:5HG05ThGEDG0v5FfKqGPuI',
  2 => 'spotify:track:4UJX7so2d2L2XttE5Pfwm7',
  3 => 'spotify:track:7LRotHDhVHU9FE7oWhuFTL',
  4 => 'spotify:track:2Csi8BB8tZUiTaQgdSUazw',
  5 => 'spotify:track:55WJq2EsJoTSvvF15Q4gCy',
  6 => 'spotify:track:54HMQ6LzInyFQaxv6sK2TG',
  7 => 'spotify:track:0FcbEF2c45mID7o7IJ0qM6',
  8 => 'spotify:track:0AOmbw8AwDnwXhHC3OhdVB',
  9 => 'spotify:track:0S0vWvyZ6Rc79TXkWxT9QA',
  10 => 'spotify:track:28Flt2BiDoH9c4bUZwxsDr',
  11 => 'spotify:track:6sAn8zDfv8nIq3gdce7QNI',
  12 => 'spotify:track:4urxRqBRiaH0i20OKBsgxc',
  13 => 'spotify:track:75zbw2JGazrTzrJ5r36Af3',
  14 => 'spotify:track:12agMQaxWkreYs3SH1D4Ag',
  15 => 'spotify:track:0ZfpA3Tq0OWlxpowofOlH9',
  16 => 'spotify:track:0boRYCi86zNhMR1wzi3YnR',
  17 => 'spotify:track:0b4TKuvZ4eJ8eHgJgXaCnN',
  18 => 'spotify:track:17FRvdpEpF8o1iWrEGLNTK',
  19 => 'spotify:track:73ESek0SF1ZcdRKMc8hsKi',
  20 => 'spotify:track:0Ef9KUXSoeEcjPeA9ipQRc',
  21 => 'spotify:track:611WshW3yQKLCQ2pTCOii4',
  22 => 'spotify:track:4OmlsAT8r4q9vPFBvfYgyZ',
  23 => 'spotify:track:5ycLTrgkYgT3T6DQPmGbSw',
  24 => 'spotify:track:7crlF5OeAppdViVihnDFIp',
  25 => 'spotify:track:2fyDWKsx5904KnZMGllmAv',
  26 => 'spotify:track:79JGZH3MU8OS2UFSD8cUZn',
  27 => 'spotify:track:09fDemXgXzRReTfb7UWxjD',
  28 => 'spotify:track:4HBAUb51EPTPdYKCUR8Djg',
  29 => 'spotify:track:7tTRFVlFzk6yTnoMcParmi',
  30 => 'spotify:track:7HiIy4QaA5ud7ZuuyBysKk',
  31 => 'spotify:track:2MZrOmrVxRmmOoFW6dhenG',
  32 => 'spotify:track:7ipUYshiPzzUs9EdeOsBFO',
  33 => 'spotify:track:1xolJCHO0WZvqVdu6buLk7',
  34 => 'spotify:track:1pdLA11pSt6pfkio4dnsmB',
  35 => 'spotify:track:6MTfKxsjHEsH8GtHfKEXAA',
  36 => 'spotify:track:5ecfOf1rOdlFxbZ0rHAAKj',
  37 => 'spotify:track:5J1tThACf3JLPc3cC1neEH',
  38 => 'spotify:track:3cfOd4CMv2snFaKAnMdnvK',
  39 => 'spotify:track:1Vej0qeQ3ioKwpI6FUbRv1',
  40 => 'spotify:track:56lCHdvOMqChC3FNVq796X',
  41 => 'spotify:track:7ygsUWdeNVaiEu4mxE1xnS',
  42 => 'spotify:track:1SRLP4Itr5mk2J5flHiCah',
  43 => 'spotify:track:0SdVL4hfMpUApriiJd6Y4O',
  44 => 'spotify:track:4HzMUbx10zcaXgP7tOb8IL',
  45 => 'spotify:track:4sgxBtQThrhZ9dkSYjLzb6',
  46 => 'spotify:track:2RxqHa7EgbKHEjYav48eXX',
  47 => 'spotify:track:3pJQTOjzEPEkNGqrdThxpj',
  48 => 'spotify:track:56rrrso0oiJM2ZLHBSSZBu',
  49 => 'spotify:track:3imV0hhAWp4YQGP9gdm8xe',];
    $api = [  0 => 'spotify:track:2qjH6wZfR0g11ZiT7KqyRO',
  1 => 'spotify:track:5HG05ThGEDG0v5FfKqGPuI',
  2 => 'spotify:track:4UJX7so2d2L2XttE5Pfwm7',
  3 => 'spotify:track:7LRotHDhVHU9FE7oWhuFTL',
  4 => 'spotify:track:2Csi8BB8tZUiTaQgdSUazw',
  5 => 'spotify:track:55WJq2EsJoTSvvF15Q4gCy',
  6 => 'spotify:track:54HMQ6LzInyFQaxv6sK2TG',
  7 => 'spotify:track:0FcbEF2c45mID7o7IJ0qM6',
  8 => 'spotify:track:0AOmbw8AwDnwXhHC3OhdVB',
  9 => 'spotify:track:0S0vWvyZ6Rc79TXkWxT9QA',
  10 => 'spotify:track:28Flt2BiDoH9c4bUZwxsDr',
  11 => 'spotify:track:6sAn8zDfv8nIq3gdce7QNI',
  12 => 'spotify:track:4urxRqBRiaH0i20OKBsgxc',
  13 => 'spotify:track:75zbw2JGazrTzrJ5r36Af3',
  14 => 'spotify:track:12agMQaxWkreYs3SH1D4Ag',
  15 => 'spotify:track:0ZfpA3Tq0OWlxpowofOlH9',
  16 => 'spotify:track:0boRYCi86zNhMR1wzi3YnR',
  17 => 'spotify:track:0b4TKuvZ4eJ8eHgJgXaCnN',
  18 => 'spotify:track:17FRvdpEpF8o1iWrEGLNTK',
  19 => 'spotify:track:73ESek0SF1ZcdRKMc8hsKi',
  20 => 'spotify:track:0Ef9KUXSoeEcjPeA9ipQRc',
  21 => 'spotify:track:611WshW3yQKLCQ2pTCOii4',
  22 => 'spotify:track:4OmlsAT8r4q9vPFBvfYgyZ',
  23 => 'spotify:track:5ycLTrgkYgT3T6DQPmGbSw',
  24 => 'spotify:track:7crlF5OeAppdViVihnDFIp',
  25 => 'spotify:track:2fyDWKsx5904KnZMGllmAv',
  26 => 'spotify:track:79JGZH3MU8OS2UFSD8cUZn',
  27 => 'spotify:track:09fDemXgXzRReTfb7UWxjD',
  28 => 'spotify:track:4HBAUb51EPTPdYKCUR8Djg',
  29 => 'spotify:track:7tTRFVlFzk6yTnoMcParmi',
  30 => 'spotify:track:7HiIy4QaA5ud7ZuuyBysKk',
  31 => 'spotify:track:2MZrOmrVxRmmOoFW6dhenG',
  32 => 'spotify:track:7ipUYshiPzzUs9EdeOsBFO',
  33 => 'spotify:track:1xolJCHO0WZvqVdu6buLk7',
  34 => 'spotify:track:1pdLA11pSt6pfkio4dnsmB',
  35 => 'spotify:track:6MTfKxsjHEsH8GtHfKEXAA',
  36 => 'spotify:track:5ecfOf1rOdlFxbZ0rHAAKj',
  37 => 'spotify:track:5J1tThACf3JLPc3cC1neEH',
  38 => 'spotify:track:3cfOd4CMv2snFaKAnMdnvK',
  39 => 'spotify:track:1Vej0qeQ3ioKwpI6FUbRv1',
  40 => 'spotify:track:56lCHdvOMqChC3FNVq796X',
  41 => 'spotify:track:7ygsUWdeNVaiEu4mxE1xnS',
  42 => 'spotify:track:1SRLP4Itr5mk2J5flHiCah',
  43 => 'spotify:track:0SdVL4hfMpUApriiJd6Y4O',
  44 => 'spotify:track:4HzMUbx10zcaXgP7tOb8IL',
  45 => 'spotify:track:4sgxBtQThrhZ9dkSYjLzb6',
  46 => 'spotify:track:2RxqHa7EgbKHEjYav48eXX',
  47 => 'spotify:track:3pJQTOjzEPEkNGqrdThxpj',
  48 => 'spotify:track:56rrrso0oiJM2ZLHBSSZBu',
  49 => 'spotify:track:3imV0hhAWp4YQGP9gdm8xe',];
    dd(array_diff($api, $db), array_diff($db, $api), array_intersect($api, $db));
@endphp
<html>
<head>
    <link
        rel="https://cdn.rawgit.com/mfd/f3d96ec7f0e8f034cc22ea73b3797b59/raw/856f1dbb8d807aabceb80b6d4f94b464df461b3e/gotham.css">
    <style>
        button {
            background-color: #1DB954; /* Green */
            border: none;
            color: white;
            padding: 15px 32px;
            border-radius: 50px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 100px;
        }

        body, html {
            height: 100%;
            font-family: 'Gotham', serif;
            display: grid;
            background-color: #191414;
        }

        main {
            margin: auto;
        }

        .alert {
            text-align: center;
            display: block;
            font-size: 30px;
        }

        .alert__success {
            color: #1DB954;
        }

        .alert__wait {
            color: #ffe62e;
        }

        .alert__error {
            color: #e92a2a;
        }
    </style>
</head>
<body>
<main>

    <div>
        <img src="https://cdn.usbrandcolors.com/images/logos/spotify-logo.svg" id="auth_btn"/>
    </div>

    @isset($success)
        @if($success)
            <div class="alert alert__success">Успешно вошли!️</div>
            <div class="alert alert__wait">Начинаю синхронизацию️</div>
        @else
            <div class="alert alert__error">Произошла ошибка</div>
        @endif
    @endisset

</main>
<script>
    let btn = document.getElementById('auth_btn')
    btn.addEventListener('click', authorize)

    function authorize(e) {
        fetch('/authorize', {method: 'POST'})
            .then(response => response.json())
            .then(json => {
                window.location = json.url
            })
    }
</script>
</body>
</html>
